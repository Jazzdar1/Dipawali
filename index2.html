<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DAR Mega Directory | V2</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        /* --- CSS VARIABLES FOR THEMING --- */
        :root[data-theme="dark"] {
            --bg-body: #000000;
            --bg-panel: #050505;
            --bg-card: #0a0a0a;
            --bg-hover: #171717;
            --text-main: #ffffff;
            --text-sub: #a3a3a3;
            --border: #262626;
            --primary: #8b5cf6; /* Violet */
            --primary-glow: rgba(139, 92, 246, 0.2);
            --accent: #10b981;  /* Emerald */
            --scrollbar-bg: #333;
        }

        :root[data-theme="light"] {
            --bg-body: #f8fafc;
            --bg-panel: #ffffff;
            --bg-card: #ffffff;
            --bg-hover: #f1f5f9;
            --text-main: #0f172a;
            --text-sub: #64748b;
            --border: #e2e8f0;
            --primary: #4f46e5; /* Indigo */
            --primary-glow: rgba(79, 70, 229, 0.1);
            --accent: #059669;  /* Green */
            --scrollbar-bg: #cbd5e1;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; scroll-behavior: smooth; transition: background-color 0.3s, color 0.3s, border-color 0.3s; }

        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 280px;
            background: var(--bg-panel);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
            z-index: 50;
        }

        .brand-area {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
        }

        .brand-name {
            font-size: 1.4rem;
            font-weight: 800;
            letter-spacing: -0.5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .brand-name i { color: var(--primary); }

        .filter-box { padding: 1rem; border-bottom: 1px solid var(--border); }
        .filter-input {
            width: 100%;
            background: var(--bg-card);
            border: 1px solid var(--border);
            color: var(--text-main);
            padding: 10px;
            border-radius: 8px;
            outline: none;
            font-size: 0.9rem;
        }
        .filter-input:focus { border-color: var(--primary); }

        .nav-list {
            flex: 1;
            overflow-y: auto;
            padding: 0.5rem;
        }
        .nav-list::-webkit-scrollbar { width: 5px; }
        .nav-list::-webkit-scrollbar-thumb { background: var(--scrollbar-bg); border-radius: 4px; }

        .nav-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 12px;
            color: var(--text-sub);
            text-decoration: none;
            font-size: 0.9rem;
            border-radius: 6px;
            margin-bottom: 2px;
            cursor: pointer;
            border: 1px solid transparent;
        }
        .nav-item:hover { background: var(--bg-hover); color: var(--text-main); }
        .nav-item.active {
            background: var(--primary-glow);
            color: var(--primary);
            border-color: var(--primary);
            font-weight: 600;
        }
        .count-badge { font-size: 0.75rem; background: var(--bg-hover); padding: 2px 6px; border-radius: 4px; border: 1px solid var(--border); }

        /* --- MAIN AREA --- */
        .main {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* HEADER */
        .top-bar {
            padding: 1rem 2rem;
            border-bottom: 1px solid var(--border);
            background: var(--bg-panel); /* Removed transparency for better light mode contrast */
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 40;
        }

        .search-wrapper { position: relative; flex: 1; max-width: 500px; }
        .main-search {
            width: 100%;
            padding: 12px 20px 12px 40px;
            border-radius: 50px;
            border: 1px solid var(--border);
            background: var(--bg-card);
            color: var(--text-main);
            font-size: 0.95rem;
        }
        .main-search:focus { border-color: var(--primary); box-shadow: 0 0 0 3px var(--primary-glow); outline: none; }
        .fa-search { position: absolute; left: 15px; top: 13px; color: var(--text-sub); }

        .controls { display: flex; align-items: center; gap: 15px; }

        .btn-control {
            display: flex; align-items: center; gap: 8px;
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid var(--border);
            background: var(--bg-card);
            color: var(--text-sub);
            cursor: pointer;
            font-size: 0.9rem;
        }
        .btn-control:hover { border-color: var(--text-sub); color: var(--text-main); }
        .btn-control.active { border-color: var(--accent); color: var(--accent); background: rgba(16, 185, 129, 0.1); }

        /* CONTENT */
        .content-area { flex: 1; overflow-y: auto; padding: 2rem; }
        .category-section { margin-bottom: 4rem; scroll-margin-top: 2rem; }
        
        .cat-header {
            font-size: 1.5rem; font-weight: 700; margin-bottom: 1.5rem;
            padding-bottom: 10px; border-bottom: 1px solid var(--border);
            display: flex; align-items: center; gap: 12px; color: var(--text-main);
        }
        .cat-icon { color: var(--primary); }

        /* GRID */
        .tools-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 1.5rem;
        }

        /* CARD */
        .tool-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.25rem;
            display: flex; flex-direction: column;
            position: relative;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .tool-card:hover { transform: translateY(-3px); border-color: var(--primary); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        
        .card-top { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .tool-title { font-weight: 700; color: var(--text-main); font-size: 1.05rem; }
        
        .badge { font-size: 0.7rem; padding: 3px 8px; border-radius: 6px; font-weight: 700; text-transform: uppercase; }
        .free { background: rgba(16, 185, 129, 0.1); color: var(--accent); border: 1px solid var(--accent); }
        .paid { background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid #ef4444; }
        .freemium { background: rgba(234, 179, 8, 0.1); color: #eab308; border: 1px solid #eab308; }

        .tool-desc { font-size: 0.85rem; color: var(--text-sub); line-height: 1.5; margin-bottom: 1.5rem; flex-grow: 1; }
        
        .btn-visit {
            display: block; width: 100%; text-align: center;
            padding: 10px; background: var(--bg-hover); color: var(--text-main);
            text-decoration: none; font-size: 0.85rem; border-radius: 8px; font-weight: 600;
            border: 1px solid var(--border);
        }
        .btn-visit:hover { background: var(--primary); color: white; border-color: var(--primary); }

        .btn-load-more {
            width: 100%; padding: 15px; margin-top: 20px;
            background: transparent; border: 1px dashed var(--border);
            color: var(--text-sub); border-radius: 8px; cursor: pointer;
        }
        .btn-load-more:hover { color: var(--primary); border-color: var(--primary); background: var(--primary-glow); }

        @media(max-width: 768px) {
            .sidebar { display: none; }
            .top-bar { flex-direction: column; gap: 1rem; align-items: stretch; }
        }
    </style>
</head>
<body>

<nav class="sidebar">
    <div class="brand-area">
        <div class="brand-name"><i class="fas fa-layer-group"></i> DAR Mega Dir.</div>
    </div>
    <div class="filter-box">
        <input type="text" id="catFilter" class="filter-input" placeholder="Filter 100+ Categories..." onkeyup="filterCats()">
    </div>
    <div class="nav-list" id="navList">
        </div>
</nav>

<main class="main">
    <div class="top-bar">
        <div class="search-wrapper">
            <i class="fas fa-search"></i>
            <input type="text" id="globalSearch" class="main-search" placeholder="Search 10,000+ Tools..." onkeyup="searchGlobal()">
        </div>
        <div class="controls">
            <button class="btn-control" id="freeToggle" onclick="toggleFree()">
                <i class="fas fa-tag"></i> <span>Free Only</span>
            </button>
            <button class="btn-control" id="themeToggle" onclick="toggleTheme()">
                <i class="fas fa-moon" id="themeIcon"></i>
            </button>
        </div>
    </div>

    <div class="content-area" id="contentArea">
        </div>
</main>

<script>
    // --- CONFIGURATION ---
    const TOTAL_TOOLS = 100;
    const INITIAL = 12;
    const STEP = 24;

    // --- CATEGORIES (100) ---
    const categories = [
        "Chatbots", "Copywriting", "Image Gen", "Video Creation", "Coding", "Voice", "Music", "SEO", "Social Media", "Email",
        "Legal", "Medical", "Finance", "HR", "Education", "3D Design", "Architecture", "Interior", "Fashion", "Presentations",
        "Spreadsheets", "Analytics", "Web Builders", "App Builders", "No-Code", "Automation", "Security", "Fraud", "Support",
        "Sales", "Leads", "Meeting Notes", "Translation", "Languages", "Resumes", "Cover Letters", "Prompts", "Logos",
        "Graphics", "Photo Editing", "Backgrounds", "Upscaling", "Audio Cleaning", "Podcasting", "Scripts", "Stories", "Novels",
        "Poetry", "Real Estate", "Travel", "Flights", "Hotels", "Restaurants", "Recipes", "Nutrition", "Fitness", "Mental Health",
        "Meditation", "Dating", "Gifts", "Parenting", "Pets", "Genealogy", "Game Assets", "NPCs", "Testing", "Physics", "Math",
        "Chemistry", "Biology", "Genomics", "Astronomy", "Climate", "Agriculture", "Supply Chain", "Logistics", "Inventory",
        "Manufacturing", "Robotics", "Drones", "Auto Vehicles", "IoT", "Smart Home", "Wearables", "VR/AR", "Metaverse", "NFTs",
        "Crypto", "Stocks", "Forex", "Taxes", "Grants", "Non-Profit", "Religion", "Philosophy", "History", "Trivia", "Quizzes"
    ];

    // --- REAL DATA MAPPING (Top 3 for critical categories) ---
    const topPicks = {
        "Chatbots": [{n:"ChatGPT",p:"Freemium"}, {n:"Claude 3",p:"Freemium"}, {n:"Perplexity",p:"Free"}],
        "Image Gen": [{n:"Midjourney",p:"Paid"}, {n:"Stable Diffusion",p:"Free"}, {n:"DALL-E 3",p:"Paid"}],
        "Coding": [{n:"GitHub Copilot",p:"Paid"}, {n:"Cursor",p:"Freemium"}, {n:"Replit",p:"Freemium"}]
    };

    // --- THEME LOGIC ---
    function toggleTheme() {
        const html = document.documentElement;
        const icon = document.getElementById("themeIcon");
        if (html.getAttribute("data-theme") === "dark") {
            html.setAttribute("data-theme", "light");
            icon.className = "fas fa-sun";
        } else {
            html.setAttribute("data-theme", "dark");
            icon.className = "fas fa-moon";
        }
    }

    // --- GENERATOR ---
    function generateTools(cat, start, count) {
        let tools = [];
        for(let i=0; i<count; i++) {
            let idx = start + i;
            let name, desc, price, url;

            // Use Real Data if available
            if(start === 0 && topPicks[cat] && topPicks[cat][i]) {
                const t = topPicks[cat][i];
                name = t.n;
                price = t.p;
                desc = `Market leader in ${cat}. Verified Choice.`;
                url = `https://www.google.com/search?q=${name} AI`;
            } else {
                // Procedural Generation
                const types = ["Pro", "AI", "Genius", "Flow", "Master", "Hub", "Lab"];
                name = `${cat.split(' ')[0]} ${types[idx % types.length]} ${idx}`;
                price = idx % 3 === 0 ? "Free" : idx % 3 === 1 ? "Paid" : "Freemium";
                desc = `Advanced AI solution for ${cat} with automated workflows version ${idx}.0.`;
                url = `https://www.google.com/search?q=${cat} AI Tool ${name}`;
            }
            tools.push({name, desc, price, url});
        }
        return tools;
    }

    // --- RENDERER ---
    function init() {
        const nav = document.getElementById("navList");
        const area = document.getElementById("contentArea");

        categories.sort().forEach((cat, i) => {
            // Nav
            const btn = document.createElement("div");
            btn.className = "nav-item";
            btn.innerHTML = `<span>${cat}</span> <span class="count-badge">100</span>`;
            btn.onclick = () => document.getElementById(`sec-${i}`).scrollIntoView({block: "start"});
            nav.appendChild(btn);

            // Section
            const sec = document.createElement("section");
            sec.id = `sec-${i}`;
            sec.className = "category-section";
            sec.innerHTML = `
                <div class="cat-header"><i class="fas fa-hashtag cat-icon"></i> ${cat}</div>
                <div class="tools-grid" id="grid-${i}"></div>
                <button class="btn-load-more" id="btn-${i}" onclick="loadMore('${cat}', ${i}, ${INITIAL})">
                    Load More ${cat} Tools
                </button>
            `;
            area.appendChild(sec);
            
            // Initial Load
            appendTools(i, generateTools(cat, 0, INITIAL));
        });
    }

    function appendTools(gridId, tools) {
        const grid = document.getElementById(`grid-${gridId}`);
        tools.forEach(t => {
            const el = document.createElement("div");
            el.className = "tool-card";
            el.setAttribute("data-price", t.price);
            const badge = t.price.toLowerCase();
            el.innerHTML = `
                <div class="card-top"><span class="tool-title">${t.name}</span><span class="badge ${badge}">${t.price}</span></div>
                <div class="tool-desc">${t.desc}</div>
                <a href="${t.url}" target="_blank" class="btn-visit">Visit Site</a>
            `;
            grid.appendChild(el);
        });
    }

    window.loadMore = function(cat, i, curr) {
        appendTools(i, generateTools(cat, curr, STEP));
        const next = curr + STEP;
        const btn = document.getElementById(`btn-${i}`);
        if(next >= TOTAL_TOOLS) btn.style.display = "none";
        else btn.setAttribute("onclick", `loadMore('${cat}', ${i}, ${next})`);
    };

    // --- FILTERS ---
    let isFree = false;
    window.toggleFree = function() {
        isFree = !isFree;
        document.getElementById("freeToggle").classList.toggle("active");
        applyFilters();
    };

    window.searchGlobal = function() { applyFilters(); };

    function applyFilters() {
        const q = document.getElementById("globalSearch").value.toLowerCase();
        document.querySelectorAll(".tool-card").forEach(c => {
            const txt = c.innerText.toLowerCase();
            const pr = c.getAttribute("data-price");
            const show = txt.includes(q) && (!isFree || (pr === "Free" || pr === "Freemium"));
            c.style.display = show ? "flex" : "none";
        });
    }

    window.filterCats = function() {
        const q = document.getElementById("catFilter").value.toLowerCase();
        document.querySelectorAll(".nav-item").forEach(n => {
            n.style.display = n.innerText.toLowerCase().includes(q) ? "flex" : "none";
        });
    };

    init();
</script>
</body>
</html>
